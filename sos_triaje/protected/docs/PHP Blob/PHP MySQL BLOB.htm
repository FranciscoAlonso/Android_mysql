<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" prefix="og: http://ogp.me/ns#"><head profile="http://gmpg.org/xfn/11"><link rel="stylesheet" type="text/css" href="http://www.mysqltutorial.org/wp-content/cache/minify/000000/fY9RDgIxCEQvZMU9ErbYVltYC0Z7e7vrxvhh9oMwTB5DmMA37MJOOxu-XMoxlVFGDbwq1MwbcRzyMO3glqiSQsyWHuet7S5chE3BC6sU1MMJatd7AbVeaCxeyWb0N6cJW-YIS6eAIXTYrD9QJKaWl8wfObggTy6CwVXhbNJgxkhuhAl_Di7Q6pWstr7-nd4.css?a8ed37" media="all" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>PHP MySQL BLOB</title><link rel="Shortcut Icon" href="http://www.mysqltutorial.org/wp-content/plugins/genesis-favicon-uploader/favicons/favicon.ico?a8ed37" type="image/x-icon" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="In this PHP MySQL BLOB tutorial, you will learn how to handle BLOB data using PDO. We will show you how to insert, update and select BLOB data."/><link rel="canonical" href="http://www.mysqltutorial.org/php-mysql-blob/" /><meta property="og:locale" content="en_US" /><meta property="og:type" content="article" /><meta property="og:title" content="PHP MySQL BLOB" /><meta property="og:description" content="In this PHP MySQL BLOB tutorial, you will learn how to handle BLOB data using PDO. We will show you how to insert, update and select BLOB data." /><meta property="og:url" content="http://www.mysqltutorial.org/php-mysql-blob/" /><meta property="og:site_name" content="MySQL Tutorial" /><meta property="og:image" content="http://www.mysqltutorial.org/wp-content/uploads/2013/06/PHP-MySQL-BLOB.gif" /><meta property="og:image" content="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-gif-example.png" /><meta property="og:image" content="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-render-gif-image.png" /><meta property="og:image" content="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-pdf-example.png" /><meta property="og:image" content="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-render-PDF.png" /><link rel="alternate" type="application/rss+xml" title="MySQL Tutorial &raquo; Feed" href="http://www.mysqltutorial.org/feed/" /><link rel="alternate" type="application/rss+xml" title="MySQL Tutorial &raquo; Comments Feed" href="http://www.mysqltutorial.org/comments/feed/" /><link rel="alternate" type="application/rss+xml" title="MySQL Tutorial &raquo; PHP MySQL BLOB Comments Feed" href="http://www.mysqltutorial.org/php-mysql-blob/feed/" /><script type="text/javascript" src="http://www.mysqltutorial.org/wp-content/cache/minify/000000/M9bPKixNLarUMYYydHMz04sSS1L1cjPzAA.js?a8ed37"></script><script type='text/javascript'>var CrayonSyntaxSettings={"version":"2.6.5","is_admin":"0","ajaxurl":"http:\/\/www.mysqltutorial.org\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};var CrayonSyntaxStrings={"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};</script><script type="text/javascript" src="http://www.mysqltutorial.org/wp-content/cache/minify/000000/M9RPLkqszM_TLa7MK0ms0M3ITM_IAeKS1CL9rGL93Mw8qAI9IBMA.js?a8ed37"></script><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.mysqltutorial.org/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.mysqltutorial.org/wp-includes/wlwmanifest.xml" /><meta name="generator" content="WordPress 3.9.2" /><link rel='shortlink' href='http://www.mysqltutorial.org/?p=2905' /><style type='text/css'>.download-info .download-button{background-image:url(http://www.mysqltutorial.org/wp-content/plugins/download-monitor/page-addon/downloadbutton.gif)}.download-info .more-button{background-image:url(http://www.mysqltutorial.org/wp-content/plugins/download-monitor/page-addon/morebutton.gif)}</style><style type="text/css">.enews .screenread{height:1px;left:-1000em;overflow:hidden;position:absolute;top:-1000em;width:1px}</style><link rel="pingback" href="http://www.mysqltutorial.org/xmlrpc.php" /><meta name="google-site-verification" content="KrrtVz1wSc4hXBVyDR3qAp3KT6bAHUScsmnHuUMluhI" /><style type="text/css">#header{background:url(http://www.mysqltutorial.org/wp-content/themes/mysql/images/header.png) no-repeat}</style></head><body class="page page-id-2905 page-child parent-pageid-1268 page-template-default custom-header header-image content-sidebar"><div id="wrap"><div id="header"><div class="wrap"><div id="title-area"><p id="title"><a href="http://www.mysqltutorial.org/" title="MySQL Tutorial">MySQL Tutorial</a></p><p id="description">A comprehensive MySQL Tutorial</p></div><div class="widget-area"><div id="search-2" class="widget widget_search"><div class="widget-wrap"><form method="get" class="searchform search-form" action="http://www.mysqltutorial.org/" > <input type="text" value="Search this website&#x2026;" name="s" class="s search-input" onfocus="if (this.value == 'Search this website&#x02026;') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search this website&#x02026;';}" /> <input type="submit" class="searchsubmit search-submit" value="Search" /></form></div></div></div></div></div><div id="subnav"><div class="wrap"><ul id="menu-secondary-menu" class="menu genesis-nav-menu menu-secondary"><li id="menu-item-237" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-237"><a href="http://www.mysqltutorial.org/">Home</a></li><li id="menu-item-842" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-842"><a title="Basic MySQL Tutorial" href="http://www.mysqltutorial.org/basic-mysql-tutorial.aspx">Basic MySQL</a></li><li id="menu-item-845" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-845"><a title="MySQL Stored Procedures" href="http://www.mysqltutorial.org/mysql-stored-procedure-tutorial.aspx">MySQL Stored Procedures</a></li><li id="menu-item-846" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-846"><a title="MySQL Triggers" href="http://www.mysqltutorial.org/mysql-triggers.aspx">MySQL Triggers</a></li><li id="menu-item-847" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-847"><a title="MySQL Views" href="http://www.mysqltutorial.org/mysql-views-tutorial.aspx">MySQL Views</a></li><li id="menu-item-2829" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2829"><a title="MySQL Functions" href="http://www.mysqltutorial.org/mysql-functions.aspx">MySQL Functions</a></li><li id="menu-item-844" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-844"><a title="MySQL Administration" href="http://www.mysqltutorial.org/mysql-administration.aspx">MySQL Administration</a></li><li id="menu-item-843" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-843"><a href="http://www.mysqltutorial.org/mysqltips.aspx">MySQL Tips</a></li></ul></div></div><div id="inner"><div id="content-sidebar-wrap"><div id="content" class="hfeed"><div class="post-2905 page type-page status-publish has-post-thumbnail hentry entry"><h1 class="entry-title">PHP MySQL BLOB</h1><script id="mNCC" language="javascript">medianet_width='336';medianet_height='280';medianet_crid='140110762';</script><script id="mNSC" src="http://contextual.media.net/nmedianet.js?cid=8CU4593V4" language="javascript"></script><div class="entry-content"><p><strong>Summary</strong>: in this tutorial, you will learn how to handle BLOB data using PHP PDO. We will show you how to insert, update and select BLOB data in MySQL databases.</p><p><img class="alignright size-full wp-image-2929" style="margin: 5px;" title="PHP MySQL Blob" alt="PHP MySQL Blob" src="http://www.mysqltutorial.org/wp-content/uploads/2013/06/PHP-MySQL-BLOB.gif?a8ed37" width="195" height="144" />Sometimes, for the security reasons, you may need to store large data objects e.g., images, PDF files, videos, etc.,  in the MySQL databases.</p><p>MySQL provides a BLOB type that can hold a large amount of data. BLOB stands for binary large data object. The maximum value of a BLOB object is specified by the available memory and the communication package size. You can change the communication package size by using the  <code>max_allowed_packet</code> variable in MySQL and  <code>post_max_size</code> in the PHP settings.</p><p>Let&#8217;s see how PHP PDO handles the BLOB type in MySQL.</p><p>First, we create a new table named <code>files </code>in the <a title="MySQL Sample Database" href="http://www.mysqltutorial.org/mysql-sample-database.aspx">sample database</a> for practicing. The <code>files </code>table contains three fields:</p><ul><li>id: is the primary key, auto increment column.</li><li>mime: stores the mime type of the file.</li><li>data: stores the content of the file, which is BLOB type.</li></ul><p>The following statement creates the <code>files </code>table:</p><div id="crayon-53f6304723abf190962304" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
CREATE TABLE files (
  id int(11) NOT NULL AUTO_INCREMENT,
  mime varchar(255) NOT NULL,
  data blob NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB;</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723abf190962304-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723abf190962304-2">2</div><div class="crayon-num" data-line="crayon-53f6304723abf190962304-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723abf190962304-4">4</div><div class="crayon-num" data-line="crayon-53f6304723abf190962304-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723abf190962304-6">6</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723abf190962304-1"><span class="crayon-k">CREATE</span><span class="crayon-h"> </span><span class="crayon-k">TABLE</span><span class="crayon-h"> </span><span class="crayon-e">files </span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723abf190962304-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">id</span><span class="crayon-h"> </span><span class="crayon-k">int</span><span class="crayon-sy">(</span><span class="crayon-cn">11</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">NOT</span><span class="crayon-h"> </span><span class="crayon-k ">NULL</span><span class="crayon-h"> </span><span class="crayon-i">AUTO_INCREMENT</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-53f6304723abf190962304-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">mime</span><span class="crayon-h"> </span><span class="crayon-k">varchar</span><span class="crayon-sy">(</span><span class="crayon-cn">255</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">NOT</span><span class="crayon-h"> </span><span class="crayon-k ">NULL</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723abf190962304-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-k">data</span><span class="crayon-h"> </span><span class="crayon-k">blob</span><span class="crayon-h"> </span><span class="crayon-k ">NOT</span><span class="crayon-h"> </span><span class="crayon-k ">NULL</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-53f6304723abf190962304-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-k">PRIMARY</span><span class="crayon-h"> </span><span class="crayon-k">KEY</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">`</span><span class="crayon-i">id</span><span class="crayon-sy">`</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723abf190962304-6"><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">ENGINE</span><span class="crayon-o">=</span><span class="crayon-i">InnoDB</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>Second, we define a class called <code>BlobDemo </code>with the following code:</p><div id="crayon-53f6304723ad9895784948" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;?php
class BobDemo
{
	const DB_HOST = 'localhost';
	const DB_NAME = 'classicmodels';
	const DB_USER = 'root';
	const DB_PASSWORD = '';

	private $conn = null;

	/**
	 * Open the database connection
	 */
	public function __construct(){
		// open database connection
		$connectionString = sprintf("mysql:host=%s;dbname=%s;charset=utf8",
				BobDemo::DB_HOST,
				BobDemo::DB_NAME);

		try {
			$this-&gt;conn = new PDO($connectionString,
					BobDemo::DB_USER,
					BobDemo::DB_PASSWORD);
			//for prior PHP 5.3.6
			//$conn-&gt;exec("set names utf8");

		} catch (PDOException $pe) {
			die($pe-&gt;getMessage());
		}
	}

	/**
	 * close the database connection
	 */
	public function __destruct() {
		// close the database connection
		$this-&gt;conn = null;
	}
}</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-2">2</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-4">4</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-6">6</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-8">8</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-10">10</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-12">12</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-14">14</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-16">16</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-18">18</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-20">20</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-22">22</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-24">24</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-26">26</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-28">28</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-30">30</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-32">32</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-34">34</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-36">36</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ad9895784948-38">38</div><div class="crayon-num" data-line="crayon-53f6304723ad9895784948-39">39</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723ad9895784948-1"><span class="crayon-o">&lt;</span><span class="crayon-sy">?</span><span class="crayon-e">php</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-2"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">BobDemo</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-3"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">DB_HOST</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'localhost'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">DB_NAME</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'classicmodels'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">DB_USER</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'root'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-v">DB_PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-8">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723ad9895784948-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">conn</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-10">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723ad9895784948-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-12"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * Open the database connection</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-13"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">__construct</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// open database connection</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-v">connectionString</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">sprintf</span><span class="crayon-sy">(</span><span class="crayon-s">"mysql:host=%s;dbname=%s;charset=utf8"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BobDemo</span><span class="crayon-o">::</span><span class="crayon-v">DB_HOST</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BobDemo</span><span class="crayon-o">::</span><span class="crayon-v">DB_NAME</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-r">this</span><span class="crayon-o">-&gt;</span><span class="crayon-v">conn</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">PDO</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">connectionString</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BobDemo</span><span class="crayon-o">::</span><span class="crayon-v">DB_USER</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BobDemo</span><span class="crayon-o">::</span><span class="crayon-v">DB_PASSWORD</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//for prior PHP 5.3.6</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//$conn-&gt;exec("set names utf8");</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-26">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723ad9895784948-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">PDOException</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">pe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">die</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">pe</span><span class="crayon-o">-&gt;</span><span class="crayon-e">getMessage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-33"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; * close the database connection</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-34"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp; */</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">__destruct</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// close the database connection</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-r">this</span><span class="crayon-o">-&gt;</span><span class="crayon-v">conn</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ad9895784948-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-53f6304723ad9895784948-39"><span class="crayon-sy">}</span></div></div></td></tr></table></div></div><p>In the <code> __construct()</code> method, we open a database connection to the MySQL database, and in the  <code>__destruct()</code> method, we close the it.</p><h2>Insert BLOB into the database</h2><p>PHP PDO provides a convenient way to work with BLOB data by using streams and prepare statements. To insert the content of a file into a BLOB column, you follow the steps below:</p><ul><li>First, open the file for reading in binary mode.</li><li>Second, construct an <a title="MySQL INSERT" href="http://www.mysqltutorial.org/mysql-insert-statement.aspx">INSERT statement</a>.</li><li>Third, bind the file handle to the prepared statement using  <code>bindParam()</code> method and call the  <code>execute()</code> method to execute the query.</li></ul><p>See the following  <code>insertBlob()</code> method:</p><div id="crayon-53f6304723ae6284359027" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/**
 * insert blob into the files table
 * @param string $filePath
 * @param string $mime mimetype
 */
public function insertBlob($filePath,$mime){
	$blob = fopen($filePath,'rb');

	$sql = "INSERT INTO files(mime,data) VALUES(:mime,:data)";
	$stmt = $this-&gt;conn-&gt;prepare($sql);

	$stmt-&gt;bindParam(':mime',$mime);
	$stmt-&gt;bindParam(':data',$blob,PDO::PARAM_LOB);

	return $stmt-&gt;execute();
}</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-2">2</div><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-4">4</div><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-6">6</div><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-8">8</div><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-10">10</div><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-12">12</div><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-14">14</div><div class="crayon-num" data-line="crayon-53f6304723ae6284359027-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723ae6284359027-16">16</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723ae6284359027-1"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-2"><span class="crayon-c"> * insert blob into the files table</span></div><div class="crayon-line" id="crayon-53f6304723ae6284359027-3"><span class="crayon-c"> * @param string $filePath</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-4"><span class="crayon-c"> * @param string $mime mimetype</span></div><div class="crayon-line" id="crayon-53f6304723ae6284359027-5"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-6"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">insertBlob</span><span class="crayon-sy">(</span><span class="crayon-v">$filePath</span><span class="crayon-sy">,</span><span class="crayon-v">$mime</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53f6304723ae6284359027-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$blob</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">fopen</span><span class="crayon-sy">(</span><span class="crayon-v">$filePath</span><span class="crayon-sy">,</span><span class="crayon-s">'rb'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-8">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723ae6284359027-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$sql</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"INSERT INTO files(mime,data) VALUES(:mime,:data)"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$this</span><span class="crayon-o">-&gt;</span><span class="crayon-i">conn</span><span class="crayon-o">-&gt;</span><span class="crayon-e">prepare</span><span class="crayon-sy">(</span><span class="crayon-v">$sql</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723ae6284359027-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">bindParam</span><span class="crayon-sy">(</span><span class="crayon-s">':mime'</span><span class="crayon-sy">,</span><span class="crayon-v">$mime</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723ae6284359027-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">bindParam</span><span class="crayon-sy">(</span><span class="crayon-s">':data'</span><span class="crayon-sy">,</span><span class="crayon-v">$blob</span><span class="crayon-sy">,</span><span class="crayon-e">PDO::</span><span class="crayon-cn">PARAM_LOB</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-14">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723ae6284359027-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">execute</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723ae6284359027-16"><span class="crayon-sy">}</span></div></div></td></tr></table></div></div><p>Notice that the  <code>PDO::PARAM_LOB</code> instructs PDO to map the data as a stream.</p><h2>Update an existing BLOB column</h2><p>To update a BLOB column, you use the same technique as described in the inserting data into a BLOB column. See the following  <code>updateBlob()</code> method:</p><div id="crayon-53f6304723af2581190023" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/**
 * update the files table with the new blob from the file specified
 * by the filepath
 * @param int $id
 * @param string $filePath
 * @param string $mime
 * @return boolean
 */
function updateBlob($id,$filePath,$mime) {

	$blob = fopen($filePath,'rb');

	$sql = "UPDATE files
			SET mime = :mime,
			data = :data
			WHERE id = :id";

	$stmt = $this-&gt;conn-&gt;prepare($sql);

	$stmt-&gt;bindParam(':mime',$mime);
	$stmt-&gt;bindParam(':data',$blob,PDO::PARAM_LOB);
	$stmt-&gt;bindParam(':id',$id);

	return $stmt-&gt;execute();

}</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723af2581190023-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-2">2</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-4">4</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-6">6</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-8">8</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-10">10</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-12">12</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-14">14</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-16">16</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-18">18</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-20">20</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-22">22</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-24">24</div><div class="crayon-num" data-line="crayon-53f6304723af2581190023-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723af2581190023-26">26</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723af2581190023-1"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-2"><span class="crayon-c"> * update the files table with the new blob from the file specified</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-3"><span class="crayon-c"> * by the filepath</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-4"><span class="crayon-c"> * @param int $id</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-5"><span class="crayon-c"> * @param string $filePath</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-6"><span class="crayon-c"> * @param string $mime</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-7"><span class="crayon-c"> * @return boolean</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-8"><span class="crayon-c"> */</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-9"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">updateBlob</span><span class="crayon-sy">(</span><span class="crayon-v">$id</span><span class="crayon-sy">,</span><span class="crayon-v">$filePath</span><span class="crayon-sy">,</span><span class="crayon-v">$mime</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-10">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723af2581190023-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$blob</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">fopen</span><span class="crayon-sy">(</span><span class="crayon-v">$filePath</span><span class="crayon-sy">,</span><span class="crayon-s">'rb'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-12">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723af2581190023-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$sql</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"UPDATE files</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-14"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SET mime = :mime,</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-15"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data = :data</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-16"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE id = :id"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$this</span><span class="crayon-o">-&gt;</span><span class="crayon-i">conn</span><span class="crayon-o">-&gt;</span><span class="crayon-e">prepare</span><span class="crayon-sy">(</span><span class="crayon-v">$sql</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">bindParam</span><span class="crayon-sy">(</span><span class="crayon-s">':mime'</span><span class="crayon-sy">,</span><span class="crayon-v">$mime</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">bindParam</span><span class="crayon-sy">(</span><span class="crayon-s">':data'</span><span class="crayon-sy">,</span><span class="crayon-v">$blob</span><span class="crayon-sy">,</span><span class="crayon-e">PDO::</span><span class="crayon-cn">PARAM_LOB</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">bindParam</span><span class="crayon-sy">(</span><span class="crayon-s">':id'</span><span class="crayon-sy">,</span><span class="crayon-v">$id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">execute</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723af2581190023-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723af2581190023-26"><span class="crayon-sy">}</span></div></div></td></tr></table></div></div><p></p><h2>Query data from BLOB column</h2><p>The following steps describe how to select data from a BLOB column:</p><ul><li>First, construct a <a title="MySQL SELECT statement" href="http://www.mysqltutorial.org/mysql-select-statement-query-data.aspx">SELECT statement</a>.</li><li>Second, bind the corresponding parameter using the  <code>bindColumn()</code> method of the <code>PDOStatement </code>object.</li><li>Third, execute the statement.</li></ul><p>See the following  <code>selectBlob()</code> method:</p><div id="crayon-53f6304723afc225926883" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/**
 * select data from the the files
 * @param int $id
 * @return array contains mime type and BLOB data
 */
public function selectBlob($id) {

	$sql = "SELECT mime,
			data
		FROM files
		WHERE id = :id";

	$stmt = $this-&gt;conn-&gt;prepare($sql);
	$stmt-&gt;execute(array(":id" =&gt; $id));
	$stmt-&gt;bindColumn(1, $mime);
	$stmt-&gt;bindColumn(2, $data, PDO::PARAM_LOB);

	$stmt-&gt;fetch(PDO::FETCH_BOUND);

	return array("mime" =&gt; $mime,
		     "data" =&gt; $data);

}</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723afc225926883-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-2">2</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-4">4</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-6">6</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-8">8</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-10">10</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-12">12</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-14">14</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-16">16</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-18">18</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-20">20</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723afc225926883-22">22</div><div class="crayon-num" data-line="crayon-53f6304723afc225926883-23">23</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723afc225926883-1"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-2"><span class="crayon-c"> * select data from the the files</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-3"><span class="crayon-c"> * @param int $id</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-4"><span class="crayon-c"> * @return array contains mime type and BLOB data</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-5"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-6"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">selectBlob</span><span class="crayon-sy">(</span><span class="crayon-v">$id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$sql</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"SELECT mime,</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-9"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-10"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM files</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-11"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE id = :id"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-12">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723afc225926883-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$this</span><span class="crayon-o">-&gt;</span><span class="crayon-i">conn</span><span class="crayon-o">-&gt;</span><span class="crayon-e">prepare</span><span class="crayon-sy">(</span><span class="crayon-v">$sql</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">execute</span><span class="crayon-sy">(</span><span class="crayon-t">array</span><span class="crayon-sy">(</span><span class="crayon-s">":id"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">$id</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">bindColumn</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$mime</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">bindColumn</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$data</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">PDO::</span><span class="crayon-cn">PARAM_LOB</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$stmt</span><span class="crayon-o">-&gt;</span><span class="crayon-e">fetch</span><span class="crayon-sy">(</span><span class="crayon-e">PDO::</span><span class="crayon-cn">FETCH_BOUND</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-t">array</span><span class="crayon-sy">(</span><span class="crayon-s">"mime"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">$mime</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-53f6304723afc225926883-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"data"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">$data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723afc225926883-22">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723afc225926883-23"><span class="crayon-sy">}</span></div></div></td></tr></table></div></div><p></p><h2>PHP MySQL BLOB examples</h2><p>In the following examples, we will use the <code>BlobDemo </code>class to save a GIF image and a PDF file into the BLOB column of the <code>files </code>table.</p><h3>PHP MySQL BLOB with image files</h3><p>First, we insert binary data from the <code>images/php-mysql-blob.gif </code>file into the BLOB column of the <code>files </code>table as follows:</p><div id="crayon-53f6304723b06399805652" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$blobObj = new BobDemo();

// test insert gif image
$blobObj-&gt;insertBlob('images/php-mysql-blob.gif',"image/gif");</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723b06399805652-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b06399805652-2">2</div><div class="crayon-num" data-line="crayon-53f6304723b06399805652-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b06399805652-4">4</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723b06399805652-1"><span class="crayon-v">$blobObj</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">BobDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b06399805652-2">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723b06399805652-3"><span class="crayon-c">// test insert gif image</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b06399805652-4"><span class="crayon-v">$blobObj</span><span class="crayon-o">-&gt;</span><span class="crayon-e">insertBlob</span><span class="crayon-sy">(</span><span class="crayon-s">'images/php-mysql-blob.gif'</span><span class="crayon-sy">,</span><span class="crayon-s">"image/gif"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div><p><img class="alignnone size-full wp-image-2909" title="php mysql blob gif example" alt="php mysql blob gif example" src="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-gif-example.png?a8ed37" width="169" height="41" /></p><p>Then, we can select the BLOB data and display it as a GIF image:</p><div id="crayon-53f6304723b0e149750779" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$a = $blobObj-&gt;selectBlob(1);
header("Content-Type:" . $a['mime']);
echo $a['data'];</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723b0e149750779-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b0e149750779-2">2</div><div class="crayon-num" data-line="crayon-53f6304723b0e149750779-3">3</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723b0e149750779-1"><span class="crayon-v">$a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">$blobObj</span><span class="crayon-o">-&gt;</span><span class="crayon-e">selectBlob</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b0e149750779-2"><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">"Content-Type:"</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">$a</span><span class="crayon-sy">[</span><span class="crayon-s">'mime'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723b0e149750779-3"><span class="crayon-k ">echo</span><span class="crayon-h"> </span><span class="crayon-v">$a</span><span class="crayon-sy">[</span><span class="crayon-s">'data'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div><p><img class="alignnone size-full wp-image-2910" title="php mysql blob render gif image" alt="php mysql blob render gif image" src="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-render-gif-image.png?a8ed37" width="397" height="211" /></p><h3>PHP MySQL BLOB with PDF files</h3><p>The following code inserts the content of the  <code>pdf/php-mysql-blob.pdf</code> PDF file into the BLOB column:</p><div id="crayon-53f6304723b17065034178" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$blobObj = new BobDemo();

// test insert pdf
$blobObj-&gt;insertBlob('pdf/php-mysql-blob.pdf',"application/pdf");</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723b17065034178-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b17065034178-2">2</div><div class="crayon-num" data-line="crayon-53f6304723b17065034178-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b17065034178-4">4</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723b17065034178-1"><span class="crayon-sy">$</span><span class="crayon-v">blobObj</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">BobDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b17065034178-2">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723b17065034178-3"><span class="crayon-c">// test insert pdf</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b17065034178-4"><span class="crayon-sy">$</span><span class="crayon-v">blobObj</span><span class="crayon-o">-&gt;</span><span class="crayon-e">insertBlob</span><span class="crayon-sy">(</span><span class="crayon-s">'pdf/php-mysql-blob.pdf'</span><span class="crayon-sy">,</span><span class="crayon-s">"application/pdf"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div><p><img class="alignnone size-full wp-image-2911" title="php mysql blob pdf example" alt="php mysql blob pdf example" src="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-pdf-example.png?a8ed37" width="196" height="61" /></p><p>Then, we can select the PDF data and render it in the web browser as follows:</p><div id="crayon-53f6304723b20919496493" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$a = $blobObj-&gt;selectBlob(2);
header("Content-Type:" . $a['mime']);
echo $a['data'];</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723b20919496493-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b20919496493-2">2</div><div class="crayon-num" data-line="crayon-53f6304723b20919496493-3">3</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723b20919496493-1"><span class="crayon-sy">$</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">blobObj</span><span class="crayon-o">-&gt;</span><span class="crayon-e">selectBlob</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b20919496493-2"><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">"Content-Type:"</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">a</span><span class="crayon-sy">[</span><span class="crayon-s">'mime'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723b20919496493-3"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">a</span><span class="crayon-sy">[</span><span class="crayon-s">'data'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div><p><img class="alignnone size-full wp-image-2912" title="php mysql blob render PDF" alt="php mysql blob render PDF" src="http://www.mysqltutorial.org/wp-content/uploads/2013/06/php-mysql-blob-render-PDF.png?a8ed37" width="442" height="236" /></p><p>To replace the PDF file by the GIF image file, you use the  <code>updateBlob()</code> method as follows:</p><div id="crayon-53f6304723b29130899206" class="crayon-syntax crayon-theme-github crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$blobObj-&gt;updateBlob(2, 'images/php-mysql-blob.gif', "image/gif");

$a = $blobObj-&gt;selectBlob(2);
header("Content-Type:" . $a['mime']);
echo $a['data'];</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53f6304723b29130899206-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b29130899206-2">2</div><div class="crayon-num" data-line="crayon-53f6304723b29130899206-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53f6304723b29130899206-4">4</div><div class="crayon-num" data-line="crayon-53f6304723b29130899206-5">5</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53f6304723b29130899206-1"><span class="crayon-sy">$</span><span class="crayon-v">blobObj</span><span class="crayon-o">-&gt;</span><span class="crayon-e">updateBlob</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'images/php-mysql-blob.gif'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"image/gif"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b29130899206-2">&nbsp;</div><div class="crayon-line" id="crayon-53f6304723b29130899206-3"><span class="crayon-sy">$</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">blobObj</span><span class="crayon-o">-&gt;</span><span class="crayon-e">selectBlob</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53f6304723b29130899206-4"><span class="crayon-e">header</span><span class="crayon-sy">(</span><span class="crayon-s">"Content-Type:"</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">a</span><span class="crayon-sy">[</span><span class="crayon-s">'mime'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-53f6304723b29130899206-5"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">a</span><span class="crayon-sy">[</span><span class="crayon-s">'data'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>You can download the source code of this tutorial via the following link:</p><div class="download"><a href="http://www.mysqltutorial.org/download/15" title="PHP MySQL BLOB">PHP MySQL BLOB</a> (19.65 kB) <span>2990 downloads</span></div><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-google-plus-1"><div class="googleplus1_button"><div class="g-plus" data-action="share" data-annotation="bubble" data-href="http://www.mysqltutorial.org/php-mysql-blob/"></div></div></li><li class="share-facebook"><div class="like_button"><iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.mysqltutorial.org%2Fphp-mysql-blob%2F&amp;layout=button_count&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;height=21&amp;locale=en_US&amp;width=90" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:96px; height:21px;" allowTransparency="true"></iframe></div></li><li class="share-twitter"><div class="twitter_button"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url=http%3A%2F%2Fwww.mysqltutorial.org%2Fphp-mysql-blob%2F&#038;counturl=http%3A%2F%2Fwww.mysqltutorial.org%2Fphp-mysql-blob%2F&#038;count=horizontal&#038;text=PHP%20MySQL%20BLOB%3A" style="width:101px; height:20px;"></iframe></div></li><li class="share-end"></li></ul></div></div></div></div><div class="page-navigation"><div class="page-previous"><a class="prev-page-anchor" href="http://www.mysqltutorial.org/php-mysql-transaction/" rel="prev" title="PHP MySQL Transaction"><span>Previous Tutorial:</span> PHP MySQL Transaction</a></div><div class="page-next"></div></div></div></div><div id="sidebar" class="sidebar widget-area"><div id="text-5" class="widget widget_text"><div class="widget-wrap"><div class="textwidget"><div data-type="ad" data-publisher="lqm.mysqltutorial.site" data-zone="ron" data-format="300x250"></div></div></div></div><div id="enews-ext-4" class="widget enews-widget"><div class="widget-wrap"><div class="enews"><h4 class="widgettitle">MySQL Tutorial Newsletter</h4><p>Sign up to receive updates about MySQL Tutorials and find out what's new in MySQL.</p><form id="subscribe" action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open( 'http://feedburner.google.com/fb/a/mailverify?uri=mysqltutorial/zuhD', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true" name="MySQL Tutorial Newsletter"> <label for="subbox" class="screenread">Enter your email address...</label><input type="text" value="Enter your email address..." id="subbox" onfocus="if ( this.value == 'Enter your email address...') { this.value = ''; }" onblur="if ( this.value == '' ) { this.value = 'Enter your email address...'; }" name="email"  /> <input type="hidden" name="uri" value="mysqltutorial/zuhD" /> <input type="hidden" name="loc" value="en_US" /> <input type="submit" value="Go" id="subbutton" /></form></div></div></div><div id="text-7" class="widget widget_text"><div class="widget-wrap"><div class="textwidget"><div data-type="ad" data-publisher="lqm.mysqltutorial.site" data-zone="ron" data-format="300x250"></div></div></div></div><div id="nav_menu-5" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widgettitle">MySQL Quick Start</h4><div class="menu-mysql-quick-start-container"><ul id="menu-mysql-quick-start" class="menu"><li id="menu-item-2320" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2320"><a title="Install MySQL Database Server" href="http://www.mysqltutorial.org/install-mysql/">Install MySQL Database Server</a></li><li id="menu-item-2324" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2324"><a title="Download MySQL Sample Database" href="http://www.mysqltutorial.org/mysql-sample-database.aspx">Download MySQL Sample Database</a></li><li id="menu-item-2321" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2321"><a title="How to Load Sample Database into MySQL Database Server" href="http://www.mysqltutorial.org/how-to-load-sample-database-into-mysql-database-server.aspx">Load Sample Database</a></li></ul></div></div></div><div id="nav_menu-6" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widgettitle">MySQL Programming Interfaces</h4><div class="menu-interfaces-container"><ul id="menu-interfaces" class="menu"><li id="menu-item-2994" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-2994"><a title="PHP MySQL Tutorial with PDO" href="http://www.mysqltutorial.org/php-mysql/">PHP MySQL Tutorial</a></li><li id="menu-item-2995" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2995"><a title="Perl MySQL Tutorial with DBI" href="http://www.mysqltutorial.org/perl-mysql/">Perl MySQL Tutorial</a></li></ul></div></div></div><div id="text-8" class="widget widget_text"><div class="widget-wrap"><div class="textwidget"><script type="text/javascript">/*<![CDATA[*/document.write('<scri'+'pt type="text/javascript" src="'
+(document.location.protocol=='https:'?'https://uat-secure':'http://ad-cdn')
+'.technoratimedia.com/00/21/07/uat_20721.js?ad_size=300x250"></scri'+'pt>');/*]]>*/</script></div></div></div><div id="nav_menu-4" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widgettitle">Other Tutorials</h4><div class="menu-other-container"><ul id="menu-other" class="menu"><li id="menu-item-2830" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2830"><a title="MySQL Full-Text Search" href="http://www.mysqltutorial.org/mysql-full-text-search.aspx">MySQL Full-Text Search</a></li><li id="menu-item-1706" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1706"><a href="http://www.mysqltutorial.org/mysql-cheat-sheet.aspx">MySQL Cheat Sheet</a></li><li id="menu-item-1709" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1709"><a href="http://www.mysqltutorial.org/mysqlbooks.aspx">MySQL Books</a></li><li id="menu-item-1710" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1710"><a href="http://www.mysqltutorial.org/mysql-hosting.aspx">MySQL Hosting</a></li><li id="menu-item-1711" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1711"><a href="http://www.mysqltutorial.org/mysql-resources.aspx">MySQL Resources</a></li></ul></div></div></div></div><script type="text/javascript">/*<![CDATA[*/document.write('<scri'+'pt type="text/javascript" src="'
+(document.location.protocol=='https:'?'https://uat-secure':'http://ad-cdn')
+'.technoratimedia.com/00/21/07/uat_20721.js?ad_size=728x90"></scri'+'pt>');/*]]>*/</script></div></div><div id="footer-widgets" class="footer-widgets"><div class="wrap"><div class="footer-widgets-1 widget-area"><div id="text-2" class="widget widget_text"><div class="widget-wrap"><h4 class="widgettitle">About MySQL Tutorial Website</h4><div class="textwidget"><p>MySQLTutorial.org is a website dedicated to MySQL database. We regularly  publish useful MySQL tutorials to help web developers and database administrators learn MySQL fast and use MySQL effectively.</p><p>Our MySQL tutorials are practical and easy-to-follow, with SQL script and screenshots available.<a href="/about-us/">More About Us</a></p><p>MySQL is trademark of Oracle Corp.</p></div></div></div></div><div class="footer-widgets-2 widget-area"><div id="recently_created_pages-2" class="widget Recently_Created_Pages"><div class="widget-wrap"><h4 class="widgettitle">Recent MySQL Tutorials</h4><ul><li class='page_item page-item-3178'><a href='http://www.mysqltutorial.org/mysql-export-table-to-csv/' title='MySQL Export Table to CSV'>MySQL Export Table to CSV</a></li><li class='page_item page-item-3147'><a href='http://www.mysqltutorial.org/mysql-signal-resignal/' title='Raising Error Conditions with SIGNAL / RESIGNAL Statements'>Raising Error Conditions with SIGNAL / RESIGNAL Statements</a></li><li class='page_item page-item-3152'><a href='http://www.mysqltutorial.org/mysql-error-handling-in-stored-procedures/' title='MySQL Error Handling in Stored Procedures'>MySQL Error Handling in Stored Procedures</a></li><li class='page_item page-item-3145'><a href='http://www.mysqltutorial.org/mysql-stored-function/' title='MySQL Stored Function'>MySQL Stored Function</a></li><li class='page_item page-item-3127'><a href='http://www.mysqltutorial.org/import-csv-file-mysql-table/' title='Import CSV File Into MySQL Table'>Import CSV File Into MySQL Table</a></li><li class='page_item page-item-3086'><a href='http://www.mysqltutorial.org/mysql-natural-sorting/' title='MySQL Natural Sorting with ORDER BY Clause'>MySQL Natural Sorting with ORDER BY Clause</a></li><li class='page_item page-item-3082'><a href='http://www.mysqltutorial.org/mysql-triggers/modifying-mysql-events/' title='Modifying MySQL Events'>Modifying MySQL Events</a></li><li class='page_item page-item-3071'><a href='http://www.mysqltutorial.org/mysql-triggers/working-mysql-scheduled-event/' title='Working with MySQL Scheduled Event'>Working with MySQL Scheduled Event</a></li><li class='page_item page-item-2905'><a href='http://www.mysqltutorial.org/php-mysql-blob/' title='PHP MySQL BLOB'>PHP MySQL BLOB</a></li><li class='page_item page-item-2895'><a href='http://www.mysqltutorial.org/php-mysql-transaction/' title='PHP MySQL Transaction'>PHP MySQL Transaction</a></li></ul></div></div></div><div class="footer-widgets-3 widget-area"><div id="nav_menu-2" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widgettitle">Site Links</h4><div class="menu-site-links-container"><ul id="menu-site-links" class="menu"><li id="menu-item-1740" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1740"><a href="http://www.mysqltutorial.org/about-us/">About Us</a></li><li id="menu-item-1691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1691"><a title="Contact Us" href="http://www.mysqltutorial.org/contact-us/">Contact Us</a></li><li id="menu-item-1703" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1703"><a title="Request MySQL Tutorial" href="http://www.mysqltutorial.org/request-mysql-tutorial/">Request a Tutorial</a></li><li id="menu-item-1693" class="nofollow menu-item menu-item-type-post_type menu-item-object-page menu-item-1693"><a title="Privacy Policy" href="http://www.mysqltutorial.org/privacy-policy/">Privacy Policy</a></li></ul></div></div></div></div></div></div><div id="footer" class="footer"><div class="wrap"><div class="gototop"><p><a href="#wrap" rel="nofollow">Return to top of page</a></p></div><div class="creds"> Copyright &#x000A9; 2014 by www.mysqltutorial.org. All Rights Reserved.</div></div></div></div><script type='text/javascript'>function _dmBootstrap(file){var _dma=document.createElement('script');_dma.type='text/javascript';_dma.async=true;_dma.src=('https:'==document.location.protocol?'https://':'http://')+file;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(_dma);}
function _dmFollowup(file){if(typeof DMAds==='undefined')_dmBootstrap('cdn2.DeveloperMedia.com/a.min.js');}
(function(){_dmBootstrap('cdn1.DeveloperMedia.com/a.min.js');setTimeout(_dmFollowup,2000);})();</script><script type="text/javascript">var infolinks_pid=36055;var infolinks_wsid=0;</script><script type="text/javascript" src="http://resources.infolinks.com/js/infolinks_main.js"></script><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-978532-5']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script><script type="text/javascript">(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='https://apis.google.com/js/plusone.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s);})();</script><script type="text/javascript">jQuery(document).on('ready post-load',function(){jQuery('a.share-facebook').on('click',function(){window.open(jQuery(this).attr('href'),'wpcomfacebook','menubar=1,resizable=1,width=600,height=400');return false;});});</script><script type="text/javascript">jQuery(document).on('ready post-load',function(){jQuery('a.share-twitter').on('click',function(){window.open(jQuery(this).attr('href'),'wpcomtwitter','menubar=1,resizable=1,width=600,height=350');return false;});});</script><script type="text/javascript" src="http://www.mysqltutorial.org/wp-content/cache/minify/000000/M9FPzs_NTc0r0S1KLcip1MvNzNMx0E9PzUstzizWz8lM0s8q1gfKl-oXlxakFqVlFmcQktdLLEovBgA.js?a8ed37"></script><script type='text/javascript'>var recaptcha_options={"lang":"en"};</script><script type="text/javascript" src="http://www.mysqltutorial.org/wp-content/cache/minify/000000/M9TPSi0pSEzO1i3OSCzKzEvXB9GpKYkpKZX6UCEA.js?a8ed37"></script></body></html>